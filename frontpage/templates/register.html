{% extends 'base_generic.html' %}

{% block content %}

<style type='text/css'>
    input, textarea {color: rgba(255, 255, 255, 0.7);}
</style>
<div class='valign-wrapper container'>   
    <div class="row" style='padding-top: 50px; padding-bottom: 50px'>
        <div class="col s12 center">
            <div class="card horizontal grey darken-4 center">
                <div class="card-content indigo-text accent-1">
                    <span class="card-title"><h3><b>REGISTER</b></h3></span>
                        <form method="POST" action=''>

                            {% csrf_token %}
                            <div class='input-field'>
                                {{form.username}}
                            </div>

                            <div class='input-field'>
                                {{form.email}}
                            </div>

                            <div class='input-field'>
                                {{form.password1}}
                            </div>

                            <div class='input-field'>
                                {{form.password2}}
                            </div>

                            <div class="card-action">
                                <button class="btn waves-effect indigo accent-2" type="submit" name="Create User">
                                Create User
                                </button>
                            </div>
                        </form>

                        <span class='helper-text white' data-error='wrong'>{{form.errors}}</span>

                            <div class='card-action'>
                                Already have an account? <a href={% url 'login' %}>Login</a>
                            </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    /* Because i didnt set placeholder values in forms.py they will be set here using vanilla Javascript
    //We start indexing at one because CSRF_token is considered and input field 
    */

    //Query All input fields
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder='Username..';
    form_fields[2].placeholder='Email..';
    form_fields[3].placeholder='Enter password...';
    form_fields[4].placeholder='Re-enter Password...';


    for (var field in form_fields){	
    form_fields[field].className += ' form-control'
    }
</script>

{% endblock %}
